!function(){"use strict";function n(n){function t(n,t){o=RegExp("(.*?)"+t.join(" *((?:([=&!#^>/]) *)?([\\S\\s]*?) *?(=)?) *"),"ig"),o.lastIndex=n}function r(n,t){$+="uv"[~~t]+"("+n+");"}function e(n){n&&r("'"+n.replace(/'/g,"\\'")+"'")}function i(n){if("."===n){if(0 in s)return"$";throw Error("Not in section")}return n=n.split("."),1 in n?"p(s('"+n.shift()+"'),['"+n.join("','")+"'])":"s('"+n+"')"}var o,c,u,s=[],f=0,$=String(["var _=this,r='',q=/[<>\"'&/]/g,x={}","t=x.toString","h=x.hasOwnProperty","e=function($){return String($).replace(q,function($){return x[$]})}","s=/^f/.test(typeof S)?S:function($){return S[$]}","v=function($){if($||$===0)r+=e($)}","u=function($){if($||$===0)r+=$}","l=function($){return t.call($)[8]=='A'?$:$?[$]:[]}","i=function($){return t.call($)[8]=='A'?$.length:$}","p=function($,s){for(var j=0,l=s.length;$!=null&&j<l;$=$[s[j++]]);return $}","d=function($,s){return function(_){return h.call($,_)?$[_]:s(_)}}","m=function($,s,f){for(var _=l($),j=0,k=_.length;j<k;)f(null==($=_[j++])?s:d($,s),$)};S=Object(S);'<>\"\\'&/'.replace(/./g,function($){x[$]='&#'+$.charCodeAt(0)+';'});"]);if(null==n)throw Error("Template required");for(n=String(n).replace(/[\n\r]/g,"\\n"),t(0,["{{","}}"]);c=o.exec(n);f=o.lastIndex)switch(e(c[1]),c[3]){case"!":break;case"#":s.unshift([c[4]]),$+="m("+i(c[4])+",s,function(s,$){";break;case"^":s.unshift([c[4],1]),$+="if(!i("+i(c[4])+")){";break;case"/":if(!(u=s.shift())||u[0]!==c[4])throw Error("Section mismatch");$+=u[1]?"}":"});";break;case">":$+="r+=_['"+c[4]+"'](s,e);";break;case"=":if(!c[5])throw Error("Delimiter mismatch");t(o.lastIndex,c[4].split(/ +/));break;case"&":r(i(c[4]));break;default:r(i(c[2]),1)}return e(n.slice(f)),$+"return r"}function t(t){return Function("S",n(t))}function r(n,e){return r[n]=t(e)}r.compile=t,r.process=n,"object"==typeof module?module.exports=r:window.Stalin=r}();