(function(){"use strict";function r(_){return"v("+_+");"}function t(_){return"u("+_+");"}function n(_){return"s('"+_.shift()+"')"+(_.length?"['"+_.join("']['")+"']":"")}function e(_){return"c('"+_+"',s);"}function i(_){return _.replace(/[<>"'&\/]/g,c)}function c(_){return"&#"+_.charCodeAt(0)+";"}function o(_){return(_=_.replace(/'/g,"\\'"))?t("'"+_+"'"):""}function u(r,t){var _=RegExp("(.*?)"+r+" *((?:([=&!#^>/]) *)?([\\S\\s]*?) *?(=)?) *"+t,"ig");return _.lastIndex=this,_}function a(_,r){if("."===_[0]){if(r)return"$";throw Error("Not in section")}return n(_.split(/\./))}function f(n){var i,c,f=u.call(0,"{{","}}"),s=[],l=0,p=0,$=["var _=this,r='',p=/[<>\"'&/]/g","y=String.prototype.replace","t=Object.prototype.toString","e=function(_){return y.call(_,p,function(_){return '&#'+_.charCodeAt(0)+';'})}","s=typeof S ==='function'?S:function(_){return S[_]}","v=function($){if($||$===0)r+=e($)}","u=function($){if($||$===0)r+=$}","l=function($){return t.call($)==='[object Array]'?$:$?[$]:[]}","i=function($){return t.call($)==='[object Array]'?$.length:$}","c=function($,s){r+=_[$](s,e);};"].join();if(null==n)throw Error("Template required");for(n=(n+"").replace(/[\n\r]/g,"\\n");i=f.exec(n);l=f.lastIndex)switch($+=o(i[1]),i[3]){case"!":break;case"#":s.unshift([i[4]]),p++,$+="(function(a){for(var $,j=0,k=a.length,h=Object.prototype.hasOwnProperty;j<k;j++)(function(s){";break;case"^":s.unshift([i[4],1]),$+="if(!i("+a(i[4],p)+")){";break;case"/":if(!(c=s.shift())||c[0]!==i[4])throw Error("Section mismatch");$+=c[1]?"}":p--&&"}(null==($=a[j])?s:function(_){return h.call($,_)?$[_]:s(_)}));}(l("+a(i[4],p)+")));";break;case">":$+=e(i[4]);break;case"=":if("="!==i[5])throw Error("Delimiter mismatch");f=u.apply(f.lastIndex,i[4].split(/ +/,2));break;case"&":$+=t(a(i[4],p));break;default:$+=r(a(i[2],p))}return $+=o(n.slice(l)),$+="return r"}function s(r){return Function("S",f(r))}function Ulfsaar(r,t){return Ulfsaar[r]=s(t)}Ulfsaar._={escape:i,fn:s,compile:f},"object"==typeof module?module.exports=Ulfsaar:window.Ulfsaar=Ulfsaar})();